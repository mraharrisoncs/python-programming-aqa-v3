# yaml-language-server: $schema=https://vscodeedu.com/assets/schema/course-v2.schema.json
id: lessonpart5
title: Programming with while loops
content: >+
  ## Worked Examples&#x20;


  Let's see some more `while`Â examples in Python, before trying some more PRIMM
  activities:


  ### Example 1: Vending Machine Coin Counter


  Here's a simple function that uses the while loop we saw earlier to input coin
  values until a total is reached or exceeded. The function returns the change
  due.


  ```python

  import random


  def input_coins(price):
      total = 0
      looping = True
      while looping:
          print(f"credit so far = {total}")
          coin = int(input("Enter a coin: "))
          total = total + coin
          if total >= price:
              looping = False 
      return total - price

  # main program

  change = input_coins(random.randint(20,500))

  print(f"Your change is {change}")
   
  ```


  ### **Explanation:**


  * We import the `random`Â library to allow use ofÂ `randint`Â later


  * The function `input_coins()`Â takes one parameter `price`Â which will be the
  price of an item


  * We initialise the `total` to zero, and the loop control Boolean flag
  `looping`Â to `True`


  * We now enter the loop, and inside the loop we output the running total, and
  input a new coin. If the total reaches the price, or goes over it, the loop
  control variable is set to False and the loop ends.


  * We return the difference between the total and the price - this is the
  change due


  * The main program calls the function with a random price from 20p to Â£5,
  saves the return value as `change`Â and then outputs this.


  ### Example 2: Temperature value analysis - with validation


  Here's a function that inputs temperatures repeatedly, until the user types
  "99". It then returns the average temperature.


  ```python

  def analyse_temps():
      total = 0
      count = 0
      finished = False
      while not finished:
          temp = int(input("Enter a temperature in C (99 to end): "))
              while temp < -40 or temp > 99:
                  temp = int(input("Invalid, retry: "))
          if temp == 99:
              finished = True
          else:
              total = total + temp
              count = count + 1
      return total / count

  # main program

  print(f"Average temperature was: {analyse_temps()}")

  ```


  ### **Explanation:**


  * The function `analyse_temps()` initializes two variables, `total` and
  `count`, to zero and a Boolean flag `finished` to `False`, and then enters a
  `while` loop that continues until `finished` is `True`.


  * Inside the loop, it prompts the user to input a temperature in Celsius, with
  "99" as the sentinel value to end the input.


  * If the input temperature is outside the valid range (-40 to 99), it prompts
  the user to retry until a valid temperature is entered.


  * If the input temperature is "99", the loop ends by setting `finished` to
  `True`.


  * Otherwise, it adds the temperature to `total` and increments `count` by 1.


  * The function calculates the average temperature usingÂ `total/count` and
  returns this.


  * The main program calls the function and outputs the result.


  ## PRIMM activities


  Using the attached **`test_marker.py`**:


  1. **ðŸ¤” Predict** what the program does.

  2. â–¶ï¸Â **Run** and check your prediction, were you correct?

  3. ðŸ”Â **Investigate:**Â 

     * What **variable** controls the outer loop, and what is its **data type**?&#x20;

     * What is the purpose of the inner `while`Â loop?

     * The input value `-1`Â indicates that the loop should end, what do we call a special value like this?
  4. âœï¸Â **Modify:**Â 

     * Change the program to only accept scores between 0 and 60.

     * **Stretch challenge:**Â Move the code that inputs and validates the score to a separate function `get_score()`.
  5. ðŸ› ï¸ **Make:**Â Using the skeleton code in **`word_game.py`**Â write a new
  function for a word game calledÂ `word_score()Â `that repeatedly inputs single
  letters and assigns each letter a score according to these rules:

     * vowels "a", "e", "i", "o", "u" score **1**

     * "q", "x" and "z" score **3**&#x20;

     * all other letters score **2**

     * A full stop '.' indicates the end of the word

     The function should calculate the total score for the word and return it. For example:

     * "c", "a", "t", "."  scores **5**

     * "p", "i", "z", "z", "a", "." scores 2 + 1 + 3 + 3 + 1 = **10**.

     > Hint: use the conditional expressionÂ **`letter in "aeiou"`**Â to check for a vowel, and similar code for the other letter categories.

showEditor: true
editors:
  - course1/unit5/lesson3/lessonpart5/test_marker.py
  - course1/unit5/lesson3/lessonpart5/word_game.py
