# yaml-language-server: $schema=https://vscodeedu.com/assets/schema/course-v2.schema.json
id: lessonpart3
title: Using Boolean flags to control iteration
content: >
  Remember our password strength checker? It ended up with a quite messy
  condition that looked like this:


  ```python

  while len(password) < 10 or not password[0].isupper() or '#' not in password:

  ```


  When your while loop condition starts to grow like this, it might be time to
  replace it with a Boolean **flag** which controls the iteration. Then you can
  test the conditions and alter the flag within the loop body, like this *(I've
  trimmed the code by taking out the check for repeat password)* :


  ```python

  def get_password():
      # input password repeatedly until it meets all criteria
      valid = False
      while not valid:
          password = input("Type new password, min length 10," \
                                + " first upper, include #: ")
          valid = True # assume input is valid, and then test assumptions
          if len(password) < 10 or not password[0].isupper() or '#' not in password:
              valid = False # password is weak so loop should continue
  ```


  We are now controlling the loop with a Boolean flag called `valid`. After
  inputting the new password, this flag is set to `True`, we check for password
  strength. If the checks fail, the `valid` flag is changed back to
  `False`.  Note that if the `valid` flag remains `True` the while loop will
  terminate, because its condition `not valid` will be `False`. 


  ## Python reads like English!


  If all the `True` and `False`s are confusing you, just remember, Python was
  designed to be very readable. Each line of code says what it means. So `while
  not valid` means "keep looping while my password is not valid"! Choose an
  identifier for your Boolean flag variable that makes sense, and your code will
  be easy to follow.


  ## Adding complexity


  Now we have a Boolean flag controlling our while loop, it's easy to add
  complexity to our loop conditions. We can just write more lines of code that
  alter the `valid` variable as we need them. Let's say we now want to check
  that the password is not in a **blocklist** of banned passwords. Let's add
  that code now:


  ```python

  def get_password():
      blocklist = ["ABCDEFGHIJ#", "QWERTYUIOP#", "A123456789#"]
      # input password repeatedly until it meets all criteria
      valid = False
      while not valid:
          password = input("Type new password, min length 10," \
                            + " first upper, include #: ")
          valid = True # assume input is valid, and then test assumptions
          if len(password) < 10 or not password[0].isupper() or '#' not in password:
              valid = False # password is weak so loop should continue
          if password in blocklist:
              valid = False # password is in block list so loop should continue

  ```


  We just add the new check for 'presence in the blocklist' as a separate
  `if` statement. It sets the `valid` flag back to `False` if the password is
  found in the blocklist. Because we are using a single Boolean variable to
  control the loop., we could keep adding new password strength checks without
  the while loop condition becoming long and complicated!


  > Tip: there are many ways to solve this problem, the code above is just one
  way! Find the most elegant way of solving the problem: concise but readable,
  and easy to debug.


  ## Try the code now


  Open the attached file and try the new password checker. Then answer these
  questions!
showEditor: true
editors:
  - course1/unit5/lesson2/lessonpart3/get_password_flag.py
